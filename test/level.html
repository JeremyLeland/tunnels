<title>Level tests</title>
<link rel="stylesheet" href="../style.css">

<body>
  <canvas id="canvas" width="800px" height="800px"></canvas>
</body>

<script type="module">
  import { Level } from '../src/Level.js';

  const json = `{
    "lines": [
      [ 100, 100, 100, 400 ],
      [ 100, 400, 400, 400 ],
      [ 400, 400, 400, 100 ],
      [ 400, 100, 100, 100 ],
      [ 200, 200, 300, 200 ],
      [ 300, 200, 300, 300 ],
      [ 300, 300, 200, 300 ],
      [ 200, 300, 200, 200 ]
    ],
    "nodes": [
      { "x": 150, "y": 150, "links": [ 3, 1 ] },
      { "x": 350, "y": 150, "links": [ 0, 2 ] },
      { "x": 350, "y": 350, "links": [ 1, 3 ] },
      { "x": 150, "y": 350, "links": [ 2, 0 ] }
    ]
  }
  `;

  // const json = await ( await fetch( '../levels/test1.json' ) ).text();

  const level = Level.fromJson( JSON.parse( json ) );

  const ctx = document.getElementById( 'canvas' ).getContext( '2d' );

  level.draw( ctx );

  console.log( JSON.stringify( level.toJson() ) );

</script>