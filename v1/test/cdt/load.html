<title>Loading CDT with Poly2Tri.js</title>
<link rel="stylesheet" href="../../style.css">

<canvas id="canvas" width="1000px" height="1000px"></canvas>

<script type="module">
  import '../../lib/poly2tri.js';
  import { CellMap } from './CellMap.js';

  const json = JSON.parse( await ( await fetch( '../../levels/squadMove.json' ) ).text() );

  const cellMap = new CellMap( json.walls );
  cellMap.mergeConvex();

  const ctx = document.getElementById( 'canvas' ).getContext( '2d' );
  cellMap.draw( ctx );

</script>